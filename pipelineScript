pipeline {
	agent any

	stages {
		stage('build'){

			steps{
				withMaven(maven: 'MVN353'){

				sh 'mvn clean compile -f ./mvn_project/pom.xml -X'
				} 
				
			}
		}
		// tests
		 
		// deploy
		stage('Deploy'){
			steps{
				withMaven(maven: 'MVN353'){

					sh 'make deploy -f ./mvn_project/pom.xml -X'
				}			
			}
		}

	}


}